# UI 更新說明 - 改為「最高連續打卡」

## 修改完成 ✅

已將所有前端顯示的「連續打卡」統一改為「**最高連續打卡**」或「**最高連續**」。

---

## 修改的檔案

### 1. dashboard-wired.html

**位置 1：我的進度快覽（第 163 行）**
```html
<!-- 舊 -->
<div class="overview-stat-label">🔥 連續打卡</div>

<!-- 新 -->
<div class="overview-stat-label">🏆 最高連續</div>
```

**位置 2：排行榜標題（第 281-286 行）**
```html
<!-- 舊 -->
<!-- 連續打卡王 -->
<span class="section-title">連續打卡王</span>

<!-- 新 -->
<!-- 最高連續打卡王 -->
<span class="section-title">最高連續打卡王</span>
```

---

### 2. js/dashboard.js

**位置 1：排行榜渲染函數註釋（第 518 行）**
```javascript
// 舊
// 渲染連續打卡王排行榜

// 新
// 渲染最高連續打卡王排行榜
```

**位置 2：個人查詢統計卡片（第 1371 行）**
```javascript
// 舊
<div class="personal-stat-label">🔥 連續打卡</div>

// 新
<div class="personal-stat-label">🏆 最高連續</div>
```

---

### 3. scripts/WeeklyReport.js

**週報郵件中的統計區塊（第 472 行）**
```javascript
// 舊
<div>🔥 連續打卡</div>

// 新
<div>🏆 最高連續</div>
```

---

## 視覺變更對照

### 我的進度快覽

**舊版：**
```
📅 累計打卡    🔥 連續打卡    🏆 里程碑徽章
   16 天          16 天           🏆🏆
```

**新版：**
```
📅 累計打卡    🏆 最高連續    🏆 里程碑徽章
   16 天          16 天           🏆🏆
```

---

### 排行榜區塊

**舊版：**
```
🏅 連續打卡王              📊 查看完整排行
```

**新版：**
```
🏅 最高連續打卡王          📊 查看完整排行
```

---

### 個人查詢結果

**舊版：**
```
📅 累計打卡    🔥 連續打卡    🏆 里程碑
   16 天          16 天        🏆🏆
```

**新版：**
```
📅 累計打卡    🏆 最高連續    🏆 里程碑
   16 天          16 天        🏆🏆
```

---

### 每週報告郵件

**舊版：**
```
本週打卡           🔥 連續打卡
  7/7 天              16 天
打卡率：100%       排名：1/5
```

**新版：**
```
本週打卡           🏆 最高連續
  7/7 天              16 天
打卡率：100%       排名：1/5
```

---

## Emoji 變更

為了更符合「最高紀錄」的意義，部分 emoji 也做了調整：

- `🔥`（火焰，代表「當前連續」）→ `🏆`（獎盃，代表「最高紀錄」）

**保持一致性：**
- 累計打卡：📅
- **最高連續：🏆**（統一使用獎盃）
- 里程碑徽章：🏆

---

## 測試建議

### 1. 檢查儀表板顯示

打開 `dashboard-wired.html`，確認以下區塊顯示正確：

- [ ] 我的進度快覽：顯示「🏆 最高連續」
- [ ] 排行榜標題：顯示「🏅 最高連續打卡王」
- [ ] 個人查詢結果：顯示「🏆 最高連續」

### 2. 測試數值正確性

使用測試資料驗證：

**學員002 範例：**
- 打卡記錄：01-01~04 (4天), 缺05, 01-06~11 (6天), 缺12-13, 01-14~16 (3天)
- 預期顯示：**最高連續 = 6 天**（保留歷史最高）

### 3. 清除瀏覽器快取

```javascript
localStorage.clear();
location.reload(true);
```

### 4. 檢查週報郵件

執行測試郵件（如果有設定）：
- 打開 Google Apps Script
- 執行：打卡系統 → 📊 每週報告 → 📧 測試寄送（寄給我）
- 檢查郵件中是否顯示「🏆 最高連續」

---

## 語意說明

### 為什麼改為「最高連續」？

**舊邏輯（當前連續）：**
- 只計算「當前這一輪」的連續天數
- 中斷後歸零，可能打擊士氣

**新邏輯（最高連續）：**
- 計算「歷史上最長」的連續紀錄
- 保留最佳成績，更具鼓勵性

**使用者理解：**
- 「最高連續」= 我曾經達到的最好成績
- 即使今天中斷，也不會抹煞之前的努力

---

## 完整修改清單

| 檔案 | 行數 | 修改內容 |
|------|-----|---------|
| dashboard-wired.html | 163 | 🔥 連續打卡 → 🏆 最高連續 |
| dashboard-wired.html | 281-286 | 連續打卡王 → 最高連續打卡王 |
| js/dashboard.js | 518 | 註釋更新 |
| js/dashboard.js | 1371 | 🔥 連續打卡 → 🏆 最高連續 |
| scripts/WeeklyReport.js | 472 | 🔥 連續打卡 → 🏆 最高連續 |

---

## 相關文件

- **[最高連續打卡說明.md](./最高連續打卡說明.md)** - 完整邏輯說明
- **[更新說明_最高連續打卡.md](./更新說明_最高連續打卡.md)** - 後端更新說明

---

## 上線檢查

部署前最後確認：

- [ ] 前端 config.js：TEST_TODAY_DATE 已設定正確
- [ ] 後端 Code_CLEAN.js：TEST_TODAY_DATE 已設定正確
- [ ] 後端 WeeklyReport.js：TEST_TODAY_DATE 已設定正確
- [ ] Google Sheets 統計資料已更新（C 欄有數值）
- [ ] 儀表板顯示「最高連續打卡王」
- [ ] 個人統計顯示「最高連續」
- [ ] 週報郵件顯示「最高連續」
- [ ] 瀏覽器快取已清除

全部確認後即可正式上線！🎉
